import{j as r}from"./index-BiB-ynBv.js";import{r as E}from"./react-dom-DGKMarRI.js";import{V as ie,S as re,C as ae,F as ce,P as le,W as de,B as me,a as we,b as ue,c as he}from"./three-BZTDYu2w.js";const l=1400,F=1200,z=600,D=600;function ye({theme:v="light",onToggleTheme:pe}){const P=E.useRef(null),d=E.useRef(new ie(0,0)),I=E.useRef(0);E.useEffect(()=>{const i=v==="dark",m=i?0:16777215,Z=i?6333946:2450411,k=new re;k.background=new ae(m),k.fog=new ce(m,200,900);const a=new le(60,window.innerWidth/window.innerHeight,1,2e3);a.position.set(0,0,550);const w=new de({antialias:!0});w.setSize(window.innerWidth,window.innerHeight),w.setPixelRatio(window.devicePixelRatio),P.current.appendChild(w.domElement);const b=new me,j=new Float32Array(l*3),t=new Float32Array(l*3),c=new Float32Array(l*3),p=new Float32Array(l*3),M=new Uint8Array(l);for(let o=0;o<l;o++){const s=o*3,n=(Math.random()-.5)*F,f=(Math.random()-.5)*z,R=(Math.random()-.5)*D;j[s]=n,j[s+1]=f,j[s+2]=R,t[s]=n,t[s+1]=f,t[s+2]=R,c[s]=(Math.random()-.5)*.064575,c[s+1]=(Math.random()-.5)*.064575,c[s+2]=(Math.random()-.5)*.064575}b.setAttribute("position",new we(j,3));const L=new ue({color:Z,size:2.4,opacity:.8,transparent:!0,sizeAttenuation:!0}),J=new he(b,L);k.add(J);const S=o=>{d.current.x=o.clientX/window.innerWidth*2-1,d.current.y=-(o.clientY/window.innerHeight)*2+1},W=()=>{I.current=window.scrollY||0};window.addEventListener("mousemove",S),window.addEventListener("scroll",W,{passive:!0});let $=0,N,Y=performance.now();const X=()=>{N=requestAnimationFrame(X);const o=performance.now(),s=Math.min((o-Y)/1e3,.1);Y=o,$+=.097*s;const n=b.attributes.position.array,f=1+Math.sin($)*.01;if(Math.abs(d.current.x)<.4&&Math.abs(d.current.y)<.25){const u=Math.floor(l*.6);if(M[0]===0)for(let e=0;e<l;e++){const x=e*3;if(M[e]=e<u?1:2,M[e]===1){const g=e/u*Math.PI*2,h=280,y=170,A=0,H=0,oe=Math.sin(g)*h,se=Math.sin(g)*Math.cos(g)*y;p[x]=oe+A,p[x+1]=se+H,p[x+2]=(Math.random()-.5)*80}}}else M.fill(0);const K=d.current.x*300,Q=d.current.y*200;for(let u=0;u<l;u++){const e=u*3;t[e]+=c[e],t[e+1]+=c[e+1],t[e+2]+=c[e+2],(t[e]<-F/2||t[e]>F/2)&&(c[e]*=-1),(t[e+1]<-z/2||t[e+1]>z/2)&&(c[e+1]*=-1),(t[e+2]<-D/2||t[e+2]>D/2)&&(c[e+2]*=-1);const x=t[e]-K,g=t[e+1]-Q,h=Math.hypot(x,g);if(h<120&&h>0){const y=(1-h/120)*.6;t[e]+=x/h*y,t[e+1]+=g/h*y}if(M[u]===1)n[e]+=(p[e]-n[e])*.040425,n[e+1]+=(p[e+1]-n[e+1])*.040425,n[e+2]+=(p[e+2]-n[e+2])*.040425;else{const y=t[e]*f,A=t[e+1]*f,H=t[e+2]*f;n[e]+=(y-n[e])*.04851,n[e+1]+=(A-n[e+1])*.04851,n[e+2]+=(H-n[e+2])*.04851}}b.attributes.position.needsUpdate=!0;const ee=d.current.x*50,te=d.current.y*30;a.position.x+=(ee-a.position.x)*.024255,a.position.y+=(te-a.position.y)*.024255,a.lookAt(0,0,0);const ne=Math.min(1,I.current/window.innerHeight);L.opacity=.8*(1-ne),w.render(k,a)};X();const B=()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight),w.setPixelRatio(window.devicePixelRatio)};return window.addEventListener("resize",B),()=>{var o;window.removeEventListener("mousemove",S),window.removeEventListener("scroll",W),window.removeEventListener("resize",B),N&&cancelAnimationFrame(N),(o=P.current)==null||o.removeChild(w.domElement),b.dispose(),L.dispose(),w.dispose()}},[v]);const _=v==="dark"?"text-white":"text-black",G=v==="dark"?"text-cyan-400":"text-blue-500",U=v==="dark"?"bg-black":"bg-white",V="Hi, I am Amey",T="Hi",O=V.slice(T.length),C=.099,q=T.length*C+.248;return r.jsxs("div",{className:`relative w-full h-screen overflow-hidden ${U}`,children:[r.jsx("div",{ref:P,className:"canvas-layer absolute top-0 left-0 w-full h-full"}),r.jsx("div",{className:"relative z-10 flex items-center justify-center h-full pointer-events-none",children:r.jsxs("h1",{className:`text-[2.5rem] sm:text-[3.375rem] md:text-[5.4rem] font-semibold tracking-tight text-center w-full ${_}`,children:[T.split("").map((i,m)=>r.jsx("span",{className:"letter-appear inline-block",style:{animationDelay:`${m*C}s`},children:i===" "?" ":i},`lead-${i}-${m}`)),O.split("").map((i,m)=>r.jsx("span",{className:"letter-appear inline-block",style:{animationDelay:`${q+m*C}s`},children:i===" "?" ":i},`trail-${i}-${m}`))]})}),r.jsx("div",{className:"absolute inset-x-0 z-10 flex justify-center pointer-events-none",style:{top:"calc(50% + 5.5rem)"},"aria-hidden":"true",children:r.jsx("div",{className:`animate-bounce ${G}`,children:r.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]})}export{ye as default};
